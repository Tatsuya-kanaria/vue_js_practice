<!DOCTYPE html>
<html>
<head>
  <title>My vue app title</title>
  <script src="https://unpkg.com/vue@2.5.17"></script>
</head>
<body>
  <h1>sample cash register app</h1>
  <div id="app">
    <!-- 1000円以上になるまで、赤く表示する(v-bind:style) -->
    <div :style="errorMessageStyle">
      <ul>
        <!-- 各商品の単価と購入個数をリスト表示する -->
        <li v-for="item in items" v-bind:key="item.name">
          <!-- v-onでイベントが発生した時に属性値で指定した式を評価する -->
          <!-- {{ item.name }}の個数: <input type="number" v-on:input="item.quantity = $event.target.value" v-bind:value="item.quantity" min="0"> -->
          <!-- v-onディレクティブの引数をinputからchangeに変更した -->
          {{ item.name }}の個数: <input type="number" v-on:change="item.quantity = $event.target.value" v-bind:value="item.quantity" min="0">
          {{ item.name }}: {{ item.price }} × {{ item.quantity }} = {{ item.price * item.quantity | numberWithDelimiter}}円
        </li>
      </ul>
      <hr>
      <div v-bind:style="errorMessageStyle">
        <ul>
          <li v-for="item in items" v-bind:key="item.name">
            {{ item.name }}: {{ item.price }} × {{ item.quantity }} = {{ item.price * item.quantity | numberWithDelimiter }}円
          </li>
        </ul>
      </div>
      <p>{{ items[0].name }}: {{ items[0].price }} × {{ items[0].quantity }}</p>
      <p>小計: {{ totalPrice | numberWithDelimiter }}円</p>
      <p>合計(税込): {{ totalPriceWithTax | numberWithDelimiter }}円</p>
      <p v-show="!canBuy">
        {{ 1000 | numberWithDelimiter }}円以上からご購入いただけます
      </p>
    </div>
  </div>

  <script src="app.js"></script>

  <script>
    // ロードされ、Vueがグローバル変数として定義されているか確認
    console.assert(typeof Vue !== 'undefined');
  </script>
</body>
</html>
